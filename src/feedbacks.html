<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>KATIPUDROID - All Feedbacks</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.5.0/css/bootstrap.min.css">
  <link href="https://fonts.googleapis.com/css2?family=UnifrakturMaguntia&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="../css/style.css">
  <link rel="stylesheet" href="../css/feedback.css">
</head>
<body>

  <header>
    <img src="../img/logo.png" alt="logo" class="img-nav">
    <i class="fas fa-bars menu-toggle" id="menu-toggle"></i>
    <nav id="navbar">
      <a href="../index.html">HOME</a>
      <a href="../index.html#about">ABOUT</a>
      <a href="../index.html#developers">DEVELOPERS</a>
      <a href="feedbacks.html" class="active">FEEDBACKS</a>
      <a href="../index.html#message">MESSAGE US</a>
    </nav>
  </header>

  <section class="feedbacks-hero">
    <h1><i class="fas fa-comments"></i> User Feedbacks</h1> 
    <p>Discover what our amazing community thinks about KATIPUDROID. Every feedback helps us improve and create a better gaming experience.</p>
    <p style="font-size: 0.9rem; color: #999; margin-top: 1rem;">
      <i class="fas fa-bolt" style="color: #ffff00;"></i> Real-time updates • New feedbacks appear automatically
    </p>
  </section>

  <div class="feedbacks-container">
    <a href="../index.html" class="back-button">
      <i class="fas fa-arrow-left"></i>
      Back to Home
    </a>

    <div class="rating-summary" id="rating-summary" style="display: none;">
      <h4><i class="fas fa-chart-bar"></i> Rating Overview</h4>
      <div class="rating-breakdown">
        <div class="avg-rating">
          <span>Average Rating:</span>
          <div class="avg-stars" id="avg-stars"></div>
          <span id="avg-rating-text">0.0</span>
        </div>
        <div class="rating-count" id="rating-distribution">
          Loading...
        </div>
      </div>
    </div>

    <div class="feedback-stats">
      <div class="stats-info">
        <span id="total-feedbacks">Loading...</span> total feedbacks
      </div>
      <div class="filter-controls">
        <input type="text" class="search-box" id="search-box" placeholder="Search feedbacks...">
        <select class="sort-select" id="rating-filter">
          <option value="all">All Ratings</option>
          <option value="5">⭐⭐⭐⭐⭐ (5 Stars)</option>
          <option value="4">⭐⭐⭐⭐ (4 Stars)</option>
          <option value="3">⭐⭐⭐ (3 Stars)</option>
          <option value="2">⭐⭐ (2 Stars)</option>
          <option value="1">⭐ (1 Star)</option>
        </select>
        <select class="sort-select" id="sort-select">
          <option value="newest">Newest First</option>
          <option value="oldest">Oldest First</option>
          <option value="highest">Highest Rating</option>
          <option value="lowest">Lowest Rating</option>
          <option value="name">By Name</option>
        </select>
      </div>
    </div>

    <div class="loading-spinner" id="loading-spinner">
      <i class="fas fa-spinner fa-spin fa-2x"></i>
      <p>Loading feedbacks...</p>
    </div>

    <div class="feedbacks-grid" id="feedbacks-grid">
      <!-- Feedbacks will be loaded here -->
    </div>

    <div class="no-feedbacks" id="no-feedbacks" style="display: none;">
      <i class="fas fa-comment-slash fa-3x" style="margin-bottom: 1rem; opacity: 0.5;"></i>
      <h3>No feedbacks found</h3>
      <p>Be the first to share your thoughts about KATIPUDROID!</p>
      <a href="../index.html#message" class="back-button" style="margin-top: 1rem;">
        <i class="fas fa-plus"></i>
        Add Feedback
      </a>
    </div>

    <div class="pagination-controls" id="pagination-controls" style="display: none;">
      <button class="pagination-btn" id="prev-btn" onclick="changePage(-1)">
        <i class="fas fa-chevron-left"></i> Previous
      </button>
      <div class="pagination-info" id="pagination-info">
        Page 1 of 1
      </div>
      <button class="pagination-btn" id="next-btn" onclick="changePage(1)">
        Next <i class="fas fa-chevron-right"></i>
      </button>
    </div>
  </div>

  <!--footer-->
  <footer>
    <div class="waves">
      <div class="wave" id="wave1"></div>
      <div class="wave" id="wave2"></div>
      <div class="wave" id="wave3"></div>
      <div class="wave" id="wave4"></div>
    </div>
    <ul class="social_icon">
      <li><a href="https://www.facebook.com/profile.php?id=61579734300081"><ion-icon name="logo-facebook"></ion-icon></a></li>
      <li><a href="https://x.com/katipudroid"><ion-icon name="logo-twitter"></ion-icon></a></li>
      <li><a href="https://www.instagram.com/katipudroid/"><ion-icon name="logo-instagram"></ion-icon></a></li>
    </ul>
    
    <ul class="menu">
      <li><a href="../index.html">Home</a></li>
      <li><a href="../index.html#about">About</a></li>
      <li><a href="../index.html#developers">Team</a></li>
      <li><a href="../index.html#message">Message us</a></li>
    </ul>
    <p>&copy; 2025 KATIPUDROID | All Rights Reserved</p>
  </footer>

  <!--scripts-->
  <script type="module" src="https://unpkg.com/ionicons@5.5.2/dist/ionicons/ionicons.esm.js"></script>
  <script nomodule src="https://unpkg.com/ionicons@5.5.2/dist/ionicons/ionicons.js"></script>

  <!-- Firebase Configuration - MUST be loaded first -->
  <script src="config/firebase-config.js" type="module"></script>

  <!-- Feedbacks JavaScript -->
  <script src="feedbacks.js"></script>

  <!-- Show realtime indicator after Firebase loads -->
  <script>
    setTimeout(() => {
      if (window.firebaseDb) {
        const indicator = document.getElementById('realtime-indicator');
        if (indicator) {
          indicator.style.display = 'block';
          // Hide after 3 seconds
          setTimeout(() => {
            indicator.style.display = 'none';
          }, 3000);
        }
      }
    }, 2000);
  </script>

</body>
</html>